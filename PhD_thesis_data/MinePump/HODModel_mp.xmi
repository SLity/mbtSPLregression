<?xml version="1.0" encoding="UTF-8"?>
<de.imotep.dope:HigherOrderDeltaRepository
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:de.imotep.core="platform:/plugin/de.imotep.core.datamodel/model/Datamodel.ecore"
    xmlns:de.imotep.variability="platform:/plugin/de.imotep.variability.deltaBehavior/model/DeltaBehavior.ecore"
    xmlns:de.imotep.dope="platform:/plugin/de.imotep.dope/model/dope.ecore"
    id="MinePump_State_Machine_ID"
    name="MinePump_State_Machine">
  <deltas id="initialHOD_ID"
      name="initialHOD">
    <additions>
      <delta
          id="Delta_Add_Normal_Level_Handling_ID"
          name="Delta_Add_Normal_Level_Handling"
          when="Normal">
        <additions
            id="hod0d1a1_ID"
            name="hod0d1a1"
            applyTo="Water_Level_Control_Region_ID">
          <transitions
              id="t18_levelMsg_normal_ID"
              name="t18_levelMsg_normal"
              sourceState="LevelMsg_Received_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_normal_leveL_true_ID"/>
          <guards
              id="g_normal_leveL_true_ID"
              name="g_normal_leveL_true">
            <conditions
                id="normal_leveL_true_ID"
                name="normal_leveL_true"
                puse="normalLevel_ID"
                usedAttributes="normalLevel_ID"
                expression="normalLevel == 1"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Low_Level_Handling_ID"
          name="Delta_Add_Low_Level_Handling"
          when="Low">
        <additions
            id="hod0d2a1_ID"
            name="hod0d2a1"
            applyTo="Water_Level_Control_Region_ID">
          <transitions
              id="t19_low_detected_ID"
              name="t19_low_detected"
              sourceState="LevelMsg_Received_ID"
              targetState="Low_Level_Detected_ID"
              guard="g_low_level_true_ID"/>
          <transitions
              id="t20_low_not_running_ID"
              name="t20_low_not_running"
              sourceState="Low_Level_Detected_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_running_false_ID"/>
          <transitions
              id="t21_low_running_stop_ID"
              name="t21_low_running_stop"
              sourceState="Low_Level_Detected_ID"
              targetState="Pump_Stopped_Low_ID"
              guard="g_running_true_ID"
              actions="a_pumpStop_ID"/>
          <transitions
              id="t22_low_stopped_ready_false_ID"
              name="t22_low_stopped_ready_false"
              sourceState="Pump_Stopped_Low_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_running_false_ID"
              actions="set_ready_false_ID"/>
          <states
              id="Low_Level_Detected_ID"
              name="Low_Level_Detected"
              outgoingTransitions="t21_low_running_stop_ID t20_low_not_running_ID"
              incomingTransitions="t19_low_detected_ID"/>
          <states
              id="Pump_Stopped_Low_ID"
              name="Pump_Stopped_Low"
              outgoingTransitions="t22_low_stopped_ready_false_ID"
              incomingTransitions="t21_low_running_stop_ID"/>
          <actions
              id="a_pumpStop_ID"
              name="a_pumpStop"
              broadcast="pumpStop_ID"/>
          <actions
              id="set_ready_false_ID"
              name="set_ready_false">
            <expressions
                id="ready_false_ID"
                name="ready_false"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <guards
              id="g_low_level_true_ID"
              name="g_low_level_true">
            <conditions
                id="lowLevel_eq_true_ID"
                name="lowLevel_eq_true"
                puse="lowLevel_ID"
                usedAttributes="lowLevel_ID"
                expression="lowLevel == 1"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Methane_Monitoring_Region_ID"
          name="Delta_Add_Methane_Monitoring_Region"
          when="MethaneDetection">
        <additions
            id="hod0d3a1_ID"
            name="hod0d3a1"
            applyTo="MinePump_Root_State_ID">
          <regions
              id="Methane_Monitoring_Region_ID"
              name="Methane_Monitoring_Region"
              initialState="Methane_Monitoring_START_NODE_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="Methane_Monitoring_START_NODE_ID"
                name="Methane_Monitoring_START_NODE"
                type="INITIAL"
                outgoingTransitions="default_Methane_Monitoring_Region_ID"/>
            <states
                id="NoMethane_ID"
                name="NoMethane"
                outgoingTransitions="t23_methaneRises_ID t41_methaneCritical_ID"
                incomingTransitions="default_Methane_Monitoring_Region_ID t24_methane_Lower_ID t42_methaneNormal_ID"/>
            <states
                id="MethaneDetected_ID"
                name="MethaneDetected"
                outgoingTransitions="t25_running_methane_alarm_ID t24_methane_Lower_ID t42_methaneNormal_ID t43_methaneDangerous_ID"
                incomingTransitions="t23_methaneRises_ID t25_running_methane_alarm_ID t41_methaneCritical_ID t44_methaneCritical_no_methaneStop_ID"/>
            <transitions
                id="default_Methane_Monitoring_Region_ID"
                name="default_Methane_Monitoring_Region"
                sourceState="Methane_Monitoring_START_NODE_ID"
                targetState="NoMethane_ID"/>
          </regions>
          <attributes
              xsi:type="de.imotep.core:MBooleanAttribute"
              id="methaneStop_ID"
              name="methaneStop"
              visibility="PRIVATE"/>
          <actions
              id="a_pAlarmMsg_ID"
              name="a_pAlarmMsg"
              broadcast="pAlarmMsg_ID"/>
          <actions
              id="set_methaneStop_true_ID"
              name="set_methaneStop_true">
            <expressions
                id="methaneStop_true_ID"
                name="methaneStop_true"
                duse="methaneStop_ID"
                usedAttributes="methaneStop_ID"
                expression="methaneStop = 1"/>
          </actions>
          <actions
              id="set_methaneStop_false_ID"
              name="set_methaneStop_false">
            <expressions
                id="methaneStop_false_ID"
                name="methaneStop_false"
                duse="methaneStop_ID"
                usedAttributes="methaneStop_ID"
                expression="methaneStop = 0"/>
          </actions>
          <actions
              id="a_methaneLevelToHigh_ID"
              name="a_methaneLevelToHigh"
              broadcast="methaneLevelToHigh_ID"/>
          <actions
              id="a_methaneLevelOk_ID"
              name="a_methaneLevelOk"
              broadcast="methaneLevelOk_ID"/>
          <events
              id="methaneRises_ID"
              name="methaneRises"
              inputEvent="true"/>
          <events
              id="methaneLevelToHigh_ID"
              name="methaneLevelToHigh"
              outputEvent="true"/>
          <events
              id="methaneLower_ID"
              name="methaneLower"
              inputEvent="true"/>
          <events
              id="methaneLevelOk_ID"
              name="methaneLevelOk"
              outputEvent="true"/>
          <events
              id="pAlarmMsg_ID"
              name="pAlarmMsg"
              internalEvent="true"/>
        </additions>
        <additions
            id="t23_t24_t25_ID"
            name="t23_t24_t25"
            applyTo="Methane_Monitoring_Region_ID">
          <transitions
              id="t23_methaneRises_ID"
              name="t23_methaneRises"
              sourceState="NoMethane_ID"
              targetState="MethaneDetected_ID"
              event="methaneRises_ID"
              actions="a_pAlarmMsg_ID a_methaneLevelToHigh_ID set_methaneStop_true_ID"/>
          <transitions
              id="t24_methane_Lower_ID"
              name="t24_methane_Lower"
              sourceState="MethaneDetected_ID"
              targetState="NoMethane_ID"
              event="methaneLower_ID"
              actions="set_methaneStop_false_ID a_methaneLevelOk_ID"/>
          <transitions
              id="t25_running_methane_alarm_ID"
              name="t25_running_methane_alarm"
              sourceState="MethaneDetected_ID"
              targetState="MethaneDetected_ID"
              guard="g_running_true_ID"
              actions="a_pAlarmMsg_ID"/>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Methane_Handling_HighLevel_No_Cmd_MinePump_System_ID"
          name="Delta_Add_Methane_Handling_HighLevel_No_Cmd_MinePump_System"
          after="Delta_Add_Methane_Monitoring_Region_ID"
          when="MethaneDetection&amp;&amp;!Command">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_methaneStop_ID"
            name="t13_methaneStop"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_methanestop_ID"/>
        <additions
            id="hod0d4a1_ID"
            name="hod0d4a1"
            applyTo="Water_Level_Control_Region_ID">
          <transitions
              id="t26_running_high_idle_a_ID"
              name="t26_running_high_idle_a"
              sourceState="High_Level_Detected_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_running_or_methanestop_ID"/>
          <guards
              id="g_running_or_methanestop_ID"
              name="g_running_or_methanestop">
            <conditions
                id="running_eq_true_or_methaneStop_eq_true_ID"
                name="running_eq_true_or_methaneStop_eq_true"
                puse="methaneStop_ID running_ID"
                usedAttributes="running_ID methaneStop_ID"
                expression="running == 1 || methaneStop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_methanestop_ID"
              name="g_not_ready_and_not_running_and_not_methanestop">
            <conditions
                id="not_ready_and_not_running_and_not_methanestop_ID"
                name="not_ready_and_not_running_and_not_methanestop"
                puse="running_ID ready_ID methaneStop_ID"
                usedAttributes="running_ID ready_ID methaneStop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; methaneStop == 0"/>
          </guards>
        </additions>
        <removals
            id="hod0d4r1_ID"
            name="hod0d4r1"
            transitions="t12_running_high_idle_ID"
            applyTo="Water_Level_Control_Region_ID"/>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Methane_Handling_Mine_Pump_System_ID"
          name="Delta_Add_Methane_Handling_Mine_Pump_System"
          after="Delta_Add_Methane_Monitoring_Region_ID"
          when="MethaneDetection">
        <additions
            id="hod0d5a1_ID"
            name="hod0d5a1"
            applyTo="Mine_Pump_System_Controller_ID">
          <regions
              id="Methane_Level_Control_Region_ID"
              name="Methane_Level_Control_Region"
              initialState="Methane_Level_Ctrl_Init_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="Methane_Detected_MinePump_System_ID"
                name="Methane_Detected_MinePump_System"
                outgoingTransitions="t29_system_methane_not_running_ID t28_methane_running_stop_pump_ID"
                incomingTransitions="t27_pAlarmMsg_received_ID"/>
            <states
                id="Pump_Stopped_By_Methane_ID"
                name="Pump_Stopped_By_Methane"
                outgoingTransitions="t30_pump_stop_methane_idle_ID"
                incomingTransitions="t29_system_methane_not_running_ID t28_methane_running_stop_pump_ID"/>
            <states
                id="Methane_Level_Ctrl_Init_ID"
                name="Methane_Level_Ctrl_Init"
                type="INITIAL"
                outgoingTransitions="Methane_Level_Ctrl_Default_ID"/>
            <states
                id="Methane_Level_Control_Idle_ID"
                name="Methane_Level_Control_Idle"
                outgoingTransitions="t27_pAlarmMsg_received_ID"
                incomingTransitions="Methane_Level_Ctrl_Default_ID t30_pump_stop_methane_idle_ID"/>
            <transitions
                id="Methane_Level_Ctrl_Default_ID"
                name="Methane_Level_Ctrl_Default"
                sourceState="Methane_Level_Ctrl_Init_ID"
                targetState="Methane_Level_Control_Idle_ID"/>
            <transitions
                id="t27_pAlarmMsg_received_ID"
                name="t27_pAlarmMsg_received"
                sourceState="Methane_Level_Control_Idle_ID"
                targetState="Methane_Detected_MinePump_System_ID"
                event="pAlarmMsg_ID"/>
            <transitions
                id="t28_methane_running_stop_pump_ID"
                name="t28_methane_running_stop_pump"
                sourceState="Methane_Detected_MinePump_System_ID"
                targetState="Pump_Stopped_By_Methane_ID"
                guard="g_running_true_ID"
                actions="a_methane_pump_stop_ID"/>
            <transitions
                id="t29_system_methane_not_running_ID"
                name="t29_system_methane_not_running"
                sourceState="Methane_Detected_MinePump_System_ID"
                targetState="Pump_Stopped_By_Methane_ID"
                guard="g_running_false_ID"/>
            <transitions
                id="t30_pump_stop_methane_idle_ID"
                name="t30_pump_stop_methane_idle"
                sourceState="Pump_Stopped_By_Methane_ID"
                targetState="Methane_Level_Control_Idle_ID"
                guard="g_not_running_and_methaneStop_ID"
                actions="set_methane_ready_false_ID"/>
          </regions>
          <actions
              id="set_methane_ready_false_ID"
              name="set_methane_ready_false">
            <expressions
                id="methane_ready_false_ID"
                name="methane_ready_false"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <actions
              id="a_methane_pump_stop_ID"
              name="a_methane_pump_stop"
              broadcast="pumpStop_ID"/>
          <guards
              id="g_not_running_and_methaneStop_ID"
              name="g_not_running_and_methaneStop">
            <conditions
                id="running_eq_false_and_methaneStop_eq_true_ID"
                name="running_eq_false_and_methaneStop_eq_true"
                puse="methaneStop_ID running_ID"
                usedAttributes="methaneStop_ID running_ID"
                expression="running == 0 &amp;&amp; methaneStop == 1"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Command_Handling_ID"
          name="Delta_Add_Command_Handling"
          when="Command">
        <additions
            id="hod0d6a1_ID"
            name="hod0d6a1"
            applyTo="Mine_Pump_System_Controller_ID">
          <regions
              id="Command_Ctrl_Region_ID"
              name="Command_Ctrl_Region"
              initialState="Command_Ctrl_Init_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="Start_Command_Received_ID"
                name="Start_Command_Received"
                outgoingTransitions="t33_start_cmd_running_or_ready_ID t34_set_stop_false_ID"
                incomingTransitions="t32_start_Cmd_ID"/>
            <states
                id="Pump_Set_Ready_Start_Cmd_ID"
                name="Pump_Set_Ready_Start_Cmd"
                outgoingTransitions="t31_start_cmd_set_ready_ID"
                incomingTransitions="t34_set_stop_false_ID"/>
            <states
                id="Stop_Command_Received_ID"
                name="Stop_Command_Received"
                outgoingTransitions="t36_stop_not_running_or_not_ready_ID t38_stop_running_pump_stop_ID"
                incomingTransitions="t35_stop_Cmd_ID"/>
            <states
                id="Stop_Pump_By_Command_ID"
                name="Stop_Pump_By_Command"
                outgoingTransitions="t37_pump_not_running_stop_true_ID"
                incomingTransitions="t38_stop_running_pump_stop_ID"/>
            <states
                id="Command_Ctrl_Idle_ID"
                name="Command_Ctrl_Idle"
                outgoingTransitions="t32_start_Cmd_ID t35_stop_Cmd_ID"
                incomingTransitions="Command_Ctrl_Default_ID t33_start_cmd_running_or_ready_ID t31_start_cmd_set_ready_ID t36_stop_not_running_or_not_ready_ID t37_pump_not_running_stop_true_ID"/>
            <states
                id="Command_Ctrl_Init_ID"
                name="Command_Ctrl_Init"
                type="INITIAL"
                outgoingTransitions="Command_Ctrl_Default_ID"/>
            <transitions
                id="Command_Ctrl_Default_ID"
                name="Command_Ctrl_Default"
                sourceState="Command_Ctrl_Init_ID"
                targetState="Command_Ctrl_Idle_ID"/>
            <transitions
                id="t31_start_cmd_set_ready_ID"
                name="t31_start_cmd_set_ready"
                sourceState="Pump_Set_Ready_Start_Cmd_ID"
                targetState="Command_Ctrl_Idle_ID"
                actions="set_ready_true_ID"/>
            <transitions
                id="t32_start_Cmd_ID"
                name="t32_start_Cmd"
                sourceState="Command_Ctrl_Idle_ID"
                targetState="Start_Command_Received_ID"
                event="startCmd_ID"/>
            <transitions
                id="t33_start_cmd_running_or_ready_ID"
                name="t33_start_cmd_running_or_ready"
                sourceState="Start_Command_Received_ID"
                targetState="Command_Ctrl_Idle_ID"
                guard="g_running_or_ready_ID"/>
            <transitions
                id="t34_set_stop_false_ID"
                name="t34_set_stop_false"
                sourceState="Start_Command_Received_ID"
                targetState="Pump_Set_Ready_Start_Cmd_ID"
                guard="g_command_not_running_or_not_ready_ID"
                actions="set_stop_false_ID"/>
            <transitions
                id="t35_stop_Cmd_ID"
                name="t35_stop_Cmd"
                sourceState="Command_Ctrl_Idle_ID"
                targetState="Stop_Command_Received_ID"
                event="stopCmd_ID"/>
            <transitions
                id="t36_stop_not_running_or_not_ready_ID"
                name="t36_stop_not_running_or_not_ready"
                sourceState="Stop_Command_Received_ID"
                targetState="Command_Ctrl_Idle_ID"
                guard="g_command_not_running_or_not_ready_ID"
                actions="set_stop_true_ID"/>
            <transitions
                id="t37_pump_not_running_stop_true_ID"
                name="t37_pump_not_running_stop_true"
                sourceState="Stop_Pump_By_Command_ID"
                targetState="Command_Ctrl_Idle_ID"
                guard="g_running_false_ID"
                actions="set_stop_true_ID set_command_ready_false_ID"/>
            <transitions
                id="t38_stop_running_pump_stop_ID"
                name="t38_stop_running_pump_stop"
                sourceState="Stop_Command_Received_ID"
                targetState="Stop_Pump_By_Command_ID"
                guard="g_running_true_ID"
                actions="a_command_pump_stop_ID"/>
          </regions>
          <attributes
              xsi:type="de.imotep.core:MBooleanAttribute"
              id="stop_ID"
              name="stop"
              visibility="PRIVATE"/>
          <actions
              id="set_stop_false_ID"
              name="set_stop_false">
            <expressions
                id="stop_false_ID"
                name="stop_false"
                duse="stop_ID"
                usedAttributes="stop_ID"
                expression="stop = 0"/>
          </actions>
          <actions
              id="a_command_pump_stop_ID"
              name="a_command_pump_stop"
              broadcast="pumpStop_ID"/>
          <actions
              id="set_stop_true_ID"
              name="set_stop_true">
            <expressions
                id="stop_true_ID"
                name="stop_true"
                duse="stop_ID"
                usedAttributes="stop_ID"
                expression="stop = 1"/>
          </actions>
          <actions
              id="set_command_ready_false_ID"
              name="set_command_ready_false">
            <expressions
                id="command_ready_set_false_ID"
                name="command_ready_set_false"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <events
              id="startCmd_ID"
              name="startCmd"
              inputEvent="true"/>
          <events
              id="stopCmd_ID"
              name="stopCmd"
              inputEvent="true"/>
          <guards
              id="g_running_or_ready_ID"
              name="g_running_or_ready">
            <conditions
                id="running_eq_true_or_ready_eq_true_ID"
                name="running_eq_true_or_ready_eq_true"
                puse="running_ID ready_ID"
                usedAttributes="running_ID ready_ID"
                expression="running == 1 || ready == 1"/>
          </guards>
          <guards
              id="g_command_not_running_or_not_ready_ID"
              name="g_command_not_running_or_not_ready">
            <conditions
                id="command_not_running_or_not_ready_ID"
                name="command_not_running_or_not_ready"
                puse="ready_ID running_ID"
                usedAttributes="ready_ID running_ID"
                expression="running == 0 || ready == 0"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Command_Handling_HighLevel_No_Methan_MinePump_System_ID"
          name="Delta_Add_Command_Handling_HighLevel_No_Methan_MinePump_System"
          after="Delta_Add_Command_Handling_ID"
          when="!MethaneDetection&amp;&amp;Command">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_stop_ID"
            name="t13_stop"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_stop_ID"/>
        <additions
            id="hod0d7a1_ID"
            name="hod0d7a1"
            applyTo="Water_Level_Control_Region_ID">
          <transitions
              id="t39_running_high_idle_b_ID"
              name="t39_running_high_idle_b"
              sourceState="High_Level_Detected_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_running_or_stop_ID"/>
          <guards
              id="g_running_or_stop_ID"
              name="g_running_or_stop">
            <conditions
                id="running_eq_true_or_stop_eq_true_ID"
                name="running_eq_true_or_stop_eq_true"
                puse="stop_ID running_ID"
                usedAttributes="stop_ID running_ID"
                expression="running == 1 || stop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_stop_ID"
              name="g_not_ready_and_not_running_and_not_stop">
            <conditions
                id="not_ready_and_not_running_and_not_stop_ID"
                name="not_ready_and_not_running_and_not_stop"
                puse="running_ID ready_ID stop_ID"
                usedAttributes="running_ID ready_ID stop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; stop == 0"/>
          </guards>
        </additions>
        <removals
            id="hod0d7r1_ID"
            name="hod0d7r1"
            transitions="t12_running_high_idle_ID"
            applyTo="Water_Level_Control_Region_ID"/>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Command_And_Methane_Handling_HighLevel_MinePump_System_ID"
          name="Delta_Add_Command_And_Methane_Handling_HighLevel_MinePump_System"
          after="Delta_Add_Command_Handling_ID Delta_Add_Methane_Monitoring_Region_ID"
          when="MethaneDetection&amp;&amp;Command">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_methaneStop_stop_ID"
            name="t13_methaneStop_stop"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_methanestop_and_not_stop_ID"/>
        <additions
            id="hod0d8a1_ID"
            name="hod0d8a1"
            applyTo="Water_Level_Control_Region_ID">
          <transitions
              id="t40_running_high_idle_c_ID"
              name="t40_running_high_idle_c"
              sourceState="High_Level_Detected_ID"
              targetState="Water_Level_Idle_ID"
              guard="g_running_or_stop_or_methaneStop_ID"/>
          <guards
              id="g_running_or_stop_or_methaneStop_ID"
              name="g_running_or_stop_or_methaneStop">
            <conditions
                id="running_eq_true_or_stop_eq_true_or_methaneStop_eq_true_ID"
                name="running_eq_true_or_stop_eq_true_or_methaneStop_eq_true"
                puse="stop_ID methaneStop_ID running_ID"
                usedAttributes="running_ID methaneStop_ID stop_ID"
                expression="running == 1 || stop == 1 || methaneStop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_methanestop_and_not_stop_ID"
              name="g_not_ready_and_not_running_and_not_methanestop_and_not_stop">
            <conditions
                id="not_ready_and_not_running_and_not_methanestop_and_not_stop_ID"
                name="not_ready_and_not_running_and_not_methanestop_and_not_stop"
                puse="running_ID ready_ID methaneStop_ID stop_ID"
                usedAttributes="running_ID ready_ID methaneStop_ID stop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; methaneStop == 0 &amp;&amp; stop == 0"/>
          </guards>
        </additions>
        <removals
            id="hod0d8r1_ID"
            name="hod0d8r1"
            transitions="t12_running_high_idle_ID"
            applyTo="Water_Level_Control_Region_ID"/>
      </delta>
    </additions>
  </deltas>
  <deltas id="Methane_Extraction_ID"
      name="Methane_Extraction"
      predecessor="initialHOD_ID">
    <additions>
      <delta
          id="Delta_Ventilation_Ctrl_Region_ID"
          name="Delta_Ventilation_Ctrl_Region"
          when="MethaneDetection">
        <additions
            id="hod1d1a1_ID"
            name="hod1d1a1"
            applyTo="MinePump_Root_State_ID">
          <regions
              id="Ventilation_Ctrl_Region_ID"
              name="Ventilation_Ctrl_Region"
              initialState="VC_Region_START_NODE_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="VC_Region_START_NODE_ID"
                name="VC_Region_START_NODE"
                type="INITIAL"
                outgoingTransitions="default_VC_ID"/>
            <states
                id="off_ID"
                name="off"
                outgoingTransitions="t46_startVentilation_ID"
                incomingTransitions="t47_stopVentilation_ID default_VC_ID"/>
            <states
                id="on_ID"
                name="on"
                outgoingTransitions="t47_stopVentilation_ID"
                incomingTransitions="t46_startVentilation_ID"/>
            <transitions
                id="default_VC_ID"
                name="default_VC"
                sourceState="VC_Region_START_NODE_ID"
                targetState="off_ID"/>
            <transitions
                id="t46_startVentilation_ID"
                name="t46_startVentilation"
                sourceState="off_ID"
                targetState="on_ID"
                event="levelCritical_ID"
                actions="a_startVentilation_ID"/>
            <transitions
                id="t47_stopVentilation_ID"
                name="t47_stopVentilation"
                sourceState="on_ID"
                targetState="off_ID"
                event="levelNormal_ID"
                actions="a_stopVentilation_ID"/>
          </regions>
          <actions
              id="a_levelCritical_ID"
              name="a_levelCritical"
              broadcast="levelCritical_ID"/>
          <actions
              id="a_levelNormal_ID"
              name="a_levelNormal"
              broadcast="levelNormal_ID"/>
          <actions
              id="a_startVentilation_ID"
              name="a_startVentilation"
              broadcast="startVentilation_ID"/>
          <actions
              id="a_stopVentilation_ID"
              name="a_stopVentilation"
              broadcast="stopVentilation_ID"/>
          <events
              id="levelCritical_ID"
              name="levelCritical"
              internalEvent="true"/>
          <events
              id="levelNormal_ID"
              name="levelNormal"
              internalEvent="true"/>
          <events
              id="startVentilation_ID"
              name="startVentilation"
              outputEvent="true"/>
          <events
              id="stopVentilation_ID"
              name="stopVentilation"
              outputEvent="true"/>
        </additions>
      </delta>
    </additions>
    <modifications
        delta="Delta_Add_Methane_Monitoring_Region_ID"
        removedAdditions="t23_t24_t25_ID">
      <addedAdditions
          id="t41_t42_ID"
          name="t41_t42"
          applyTo="Methane_Monitoring_Region_ID">
        <transitions
            id="t41_methaneCritical_ID"
            name="t41_methaneCritical"
            sourceState="NoMethane_ID"
            targetState="MethaneDetected_ID"
            event="methaneCritical_ID"
            actions="a_levelCritical_ID"/>
        <transitions
            id="t42_methaneNormal_ID"
            name="t42_methaneNormal"
            sourceState="MethaneDetected_ID"
            targetState="NoMethane_ID"
            event="methaneNormal_ID"
            actions="a_levelNormal_ID"/>
      </addedAdditions>
      <addedAdditions
          id="hod1mod1a1_ID"
          name="hod1mod1a1"
          applyTo="Methane_Monitoring_Region_ID">
        <transitions
            id="t43_methaneDangerous_ID"
            name="t43_methaneDangerous"
            sourceState="MethaneDetected_ID"
            targetState="methane_too_high_ID"
            event="methaneDangerous_ID"
            actions="set_methaneStop_true_ID a_pAlarmMsg_ID"/>
        <transitions
            id="t44_methaneCritical_no_methaneStop_ID"
            name="t44_methaneCritical_no_methaneStop"
            sourceState="methane_too_high_ID"
            targetState="MethaneDetected_ID"
            event="methaneCritical_ID"
            actions="set_methaneStop_false_ID"/>
        <transitions
            id="t45_pAlarmMsg_ID"
            name="t45_pAlarmMsg"
            sourceState="methane_too_high_ID"
            targetState="methane_too_high_ID"
            guard="g_running_true_ID"
            actions="a_pAlarmMsg_ID"/>
        <states
            id="methane_too_high_ID"
            name="methane_too_high"
            outgoingTransitions="t44_methaneCritical_no_methaneStop_ID t45_pAlarmMsg_ID"
            incomingTransitions="t43_methaneDangerous_ID t45_pAlarmMsg_ID"/>
        <events
            id="methaneCritical_ID"
            name="methaneCritical"
            inputEvent="true"/>
        <events
            id="methaneNormal_ID"
            name="methaneNormal"
            inputEvent="true"/>
        <events
            id="methaneDangerous_ID"
            name="methaneDangerous"
            inputEvent="true"/>
      </addedAdditions>
      <orderModification
          after="Delta_Ventilation_Ctrl_Region_ID"/>
    </modifications>
  </deltas>
  <deltas id="Air_Check_ID"
      name="Air_Check"
      predecessor="Methane_Extraction_ID">
    <additions>
      <delta
          id="Delta_Add_Air_Monitoring_Region_ID"
          name="Delta_Add_Air_Monitoring_Region"
          when="AirCheck">
        <additions
            id="hod2d1a1_ID"
            name="hod2d1a1"
            applyTo="MinePump_Root_State_ID">
          <regions
              id="Air_Monitoring_Region_ID"
              name="Air_Monitoring_Region"
              initialState="AM_Region_START_NODE_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="AM_Region_START_NODE_ID"
                name="AM_Region_START_NODE"
                type="INITIAL"
                outgoingTransitions="default_AM_ID"/>
            <states
                id="air_clean_ID"
                name="air_clean"
                outgoingTransitions="t48_airPolluted_airStop_ID"
                incomingTransitions="t49_airClean_no_airStop_ID default_AM_ID"/>
            <states
                id="air_polluted_ID"
                name="air_polluted"
                outgoingTransitions="t49_airClean_no_airStop_ID t50_running_airAlarmMsg_ID"
                incomingTransitions="t48_airPolluted_airStop_ID t50_running_airAlarmMsg_ID"/>
            <transitions
                id="default_AM_ID"
                name="default_AM"
                sourceState="AM_Region_START_NODE_ID"
                targetState="air_clean_ID"/>
            <transitions
                id="t48_airPolluted_airStop_ID"
                name="t48_airPolluted_airStop"
                sourceState="air_clean_ID"
                targetState="air_polluted_ID"
                event="airPolluted_ID"
                actions="a_airAlarmMsg_ID set_airStop_true"/>
            <transitions
                id="t49_airClean_no_airStop_ID"
                name="t49_airClean_no_airStop"
                sourceState="air_polluted_ID"
                targetState="air_clean_ID"
                event="airClean_ID"
                actions="set_airStop_false"/>
            <transitions
                id="t50_running_airAlarmMsg_ID"
                name="t50_running_airAlarmMsg"
                sourceState="air_polluted_ID"
                targetState="air_polluted_ID"
                guard="g_running_true_ID"
                actions="a_airAlarmMsg_ID"/>
          </regions>
          <attributes
              xsi:type="de.imotep.core:MBooleanAttribute"
              id="airStop_ID"
              name="airStop"
              visibility="PRIVATE"/>
          <actions
              id="a_airAlarmMsg_ID"
              name="a_airAlarmMsg"
              broadcast="airAlarmMsg_ID"/>
          <actions
              id="set_airStop_true"
              name="set_airStop_true">
            <expressions
                id="set_airStop_true_ID"
                name="set_airStop_true"
                duse="airStop_ID"
                usedAttributes="airStop_ID"
                expression="airStop = 1"/>
          </actions>
          <actions
              id="set_airStop_false"
              name="set_airStop_false">
            <expressions
                id="set_airStop_false_ID"
                name="set_airStop_false"
                duse="airStop_ID"
                usedAttributes="airStop_ID"
                expression="airStop = 0"/>
          </actions>
          <events
              id="airPolluted_ID"
              name="airPolluted"
              inputEvent="true"/>
          <events
              id="airClean_ID"
              name="airClean"
              inputEvent="true"/>
          <events
              id="airAlarmMsg_ID"
              name="airAlarmMsg"
              internalEvent="true"/>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Alarm_Control_Region_ID"
          name="Delta_Alarm_Control_Region"
          when="MethaneDetection||AirCheck">
        <additions
            id="hod2d2a1_ID"
            name="hod2d2a1"
            applyTo="Mine_Pump_System_Controller_ID">
          <regions
              id="Alarm_Control_Region_ID"
              name="Alarm_Control_Region"
              initialState="AC_Region_START_NODE_ID"
              parentStateMachine="MinePump_Core_ID">
            <states
                id="AC_Region_START_NODE_ID"
                name="AC_Region_START_NODE"
                type="INITIAL"
                outgoingTransitions="default_AC_ID"/>
            <states
                id="alarm_ctrl_idle_ID"
                name="alarm_ctrl_idle"
                outgoingTransitions="t51_airAlarmMsg_ID t27neu_pAlarmMsg_ID"
                incomingTransitions="default_AC_ID t52_methane_air_not_ready_ID t30methane_ID t53_air_not_ready_ID"/>
            <states
                id="alarm_detected_minepump_region_ID"
                name="alarm_detected_minepump_region"
                outgoingTransitions="t28neu_pumpStop_ID t29neu_not_running_ID"
                incomingTransitions="t51_airAlarmMsg_ID t27neu_pAlarmMsg_ID"/>
            <states
                id="pump_stopped_by_alarm_ID"
                name="pump_stopped_by_alarm"
                outgoingTransitions="t52_methane_air_not_ready_ID t30methane_ID t53_air_not_ready_ID"
                incomingTransitions="t28neu_pumpStop_ID t29neu_not_running_ID"/>
            <transitions
                id="default_AC_ID"
                name="default_AC"
                sourceState="AC_Region_START_NODE_ID"
                targetState="alarm_ctrl_idle_ID"/>
          </regions>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Air_Alarm_Msg_ID"
          name="Delta_Air_Alarm_Msg"
          after="Delta_Add_Air_Monitoring_Region_ID Delta_Alarm_Control_Region_ID"
          when="AirCheck">
        <additions
            id="hod2d3a1_ID"
            name="hod2d3a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t51_airAlarmMsg_ID"
              name="t51_airAlarmMsg"
              sourceState="alarm_ctrl_idle_ID"
              targetState="alarm_detected_minepump_region_ID"
              event="airAlarmMsg_ID"/>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Methane_Alarm_Msg_ID"
          name="Delta_Methane_Alarm_Msg"
          after="Delta_Alarm_Control_Region_ID Delta_Add_Methane_Monitoring_Region_ID"
          when="MethaneDetection">
        <additions
            id="hod2d4a1_ID"
            name="hod2d4a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t27neu_pAlarmMsg_ID"
              name="t27neu_pAlarmMsg"
              sourceState="alarm_ctrl_idle_ID"
              targetState="alarm_detected_minepump_region_ID"
              event="pAlarmMsg_ID"/>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Alarm_Pump_Stop_ID"
          name="Delta_Alarm_Pump_Stop"
          after="Delta_Alarm_Control_Region_ID"
          when="MethaneDetection||AirCheck">
        <additions
            id="hod2d5a1_ID"
            name="hod2d5a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t28neu_pumpStop_ID"
              name="t28neu_pumpStop"
              sourceState="alarm_detected_minepump_region_ID"
              targetState="pump_stopped_by_alarm_ID"
              guard="g_running_true_ID"
              actions="a_alarm_pump_stop_ID"/>
          <transitions
              id="t29neu_not_running_ID"
              name="t29neu_not_running"
              sourceState="alarm_detected_minepump_region_ID"
              targetState="pump_stopped_by_alarm_ID"
              guard="g_running_false_ID"/>
          <actions
              id="a_alarm_pump_stop_ID"
              name="a_alarm_pump_stop"
              broadcast="pumpStop_ID"/>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Methane_Handling_ID"
          name="Delta_Methane_Handling"
          after="Delta_Methane_Alarm_Msg_ID"
          when="MethaneDetection&amp;&amp;!AirCheck">
        <additions
            id="hod2d6a1_ID"
            name="hod2d6a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t30methane_ID"
              name="t30methane"
              sourceState="pump_stopped_by_alarm_ID"
              targetState="alarm_ctrl_idle_ID"
              guard="g_not_running_and_methaneStop_neu_ID"
              actions="set_methane_ready_false_neu_ID"/>
          <actions
              id="set_methane_ready_false_neu_ID"
              name="set_methane_ready_false_neu">
            <expressions
                id="methane_ready_false_neu_ID"
                name="methane_ready_false_neu"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <guards
              id="g_not_running_and_methaneStop_neu_ID"
              name="g_not_running_and_methaneStop_neu">
            <conditions
                id="running_eq_false_and_methaneStop_eq_true_neu_ID"
                name="running_eq_false_and_methaneStop_eq_true_neu"
                puse="methaneStop_ID running_ID"
                usedAttributes="methaneStop_ID running_ID"
                expression="running == 0 &amp;&amp; methaneStop == 1"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Air_Methane_Handling_ID"
          name="Delta_Air_Methane_Handling"
          after="Delta_Methane_Alarm_Msg_ID Delta_Air_Alarm_Msg_ID"
          when="MethaneDetection&amp;&amp;AirCheck">
        <additions
            id="hod2d7a1_ID"
            name="hod2d7a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t52_methane_air_not_ready_ID"
              name="t52_methane_air_not_ready"
              sourceState="pump_stopped_by_alarm_ID"
              targetState="alarm_ctrl_idle_ID"
              guard="g_not_running_and_methaneStop_or_airStop_ID"
              actions="set_methane_air_ready_false_neu_ID"/>
          <actions
              id="set_methane_air_ready_false_neu_ID"
              name="set_methane_air_ready_false">
            <expressions
                id="methane_air_ready_false_ID"
                name="methane_air_ready_false"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <guards
              id="g_not_running_and_methaneStop_or_airStop_ID"
              name="g_not_running_and_methaneStop_or_airStop">
            <conditions
                id="running_eq_false_and_methaneStop_eq_true_or_airStop_eq_true_ID"
                name="running_eq_false_and_methaneStop_eq_true_or_airStop_eq_true"
                puse="methaneStop_ID running_ID airStop_ID"
                usedAttributes="methaneStop_ID running_ID airStop_ID"
                expression="running == 0 &amp;&amp; (methaneStop == 1 || airStop == 1)"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Air_Handling_ID"
          name="Delta_Air_Handling"
          after="Delta_Air_Alarm_Msg_ID"
          when="!MethaneDetection&amp;&amp;AirCheck">
        <additions
            id="hod2d8a1_ID"
            name="hod2d8a1"
            applyTo="Alarm_Control_Region_ID">
          <transitions
              id="t53_air_not_ready_ID"
              name="t53_air_not_ready"
              sourceState="pump_stopped_by_alarm_ID"
              targetState="alarm_ctrl_idle_ID"
              guard="g_not_running_and_airStop_ID"
              actions="set_air_ready_false_ID"/>
          <actions
              id="set_air_ready_false_ID"
              name="set_air_ready_false">
            <expressions
                id="air_ready_false_ID"
                name="air_ready_false"
                duse="ready_ID"
                usedAttributes="ready_ID"
                expression="ready = 0"/>
          </actions>
          <guards
              id="g_not_running_and_airStop_ID"
              name="g_not_running_and_airStop">
            <conditions
                id="running_eq_false_and_airStop_eq_true_ID"
                name="running_eq_false_and_airStop_eq_true"
                puse="running_ID airStop_ID"
                usedAttributes="running_ID airStop_ID"
                expression="running == 0 &amp;&amp; airStop == 1"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Methane_And_Air_Handling_HighLevel_No_Cmd_MinePump_System_ID"
          name="Delta_Add_Methane_And_Air_Handling_HighLevel_No_Cmd_MinePump_System"
          after="Delta_Add_Air_Monitoring_Region_ID Delta_Add_Methane_Monitoring_Region_ID"
          when="MethaneDetection&amp;&amp;!Command&amp;&amp;AirCheck">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t12_methane_air_ID"
            name="t12_methane_air"
            applyTo="t12_running_high_idle_ID"
            newGuard="g_running_or_methanestop_or_airstop_ID"/>
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_methane_air_ID"
            name="t13_methane_air"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop_ID"/>
        <additions
            id="hod2d9a1_ID"
            name="hod2d9a1"
            applyTo="MinePump_Core_ID">
          <guards
              id="g_running_or_methanestop_or_airstop_ID"
              name="g_running_or_methanestop_or_airstop">
            <conditions
                id="running_or_methanestop_or_airstop_ID"
                name="running_or_methanestop_or_airstop"
                puse="running_ID methaneStop_ID airStop_ID"
                usedAttributes="running_ID methaneStop_ID airStop_ID"
                expression="running = 1 || methaneStop == 1 || airStop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop_ID"
              name="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop">
            <conditions
                id="not_ready_and_not_running_and_not_methanestop_and_not_airstop_ID"
                name="not_ready_and_not_running_and_not_methanestop_and_not_airstop"
                puse="running_ID ready_ID methaneStop_ID airStop_ID"
                usedAttributes="running_ID ready_ID methaneStop_ID airStop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; methaneStop == 0 &amp;&amp; airStop == 0"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Command_And_Air_Handling_HighLevel_No_Methane_MinePump_System_ID"
          name="Delta_Add_Command_And_Air_Handling_HighLevel_No_Methane_MinePump_System"
          after="Delta_Add_Air_Monitoring_Region_ID Delta_Add_Command_Handling_ID"
          when="!MethaneDetection&amp;&amp;Command&amp;&amp;AirCheck">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t12_air_command_ID"
            name="t12_air_command"
            applyTo="t12_running_high_idle_ID"
            newGuard="g_running_or_airstop_or_stop_ID"/>
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_air_command_ID"
            name="t13_air_command"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_airstop_and_not_stop_ID"/>
        <additions
            id="hod2d10a1_ID"
            name="hod2d10a1"
            applyTo="MinePump_Core_ID">
          <guards
              id="g_running_or_airstop_or_stop_ID"
              name="g_running_or_airstop_or_stop">
            <conditions
                id="running_or_airstop_or_stop_ID"
                name="running_or_airstop_or_stop"
                puse="running_ID airStop_ID stop_ID"
                usedAttributes="running_ID airStop_ID stop_ID"
                expression="running = 1 || airStop == 1 || stop == 1 "/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_airstop_and_not_stop_ID"
              name="g_not_ready_and_not_running_and_not_airstop_and_not_stop">
            <conditions
                id="not_ready_and_not_running_and_not_airstop_and_not_stop_ID"
                name="not_ready_and_not_running_and_not_airstop_and_not_stop"
                puse="running_ID ready_ID airStop_ID stop_ID"
                usedAttributes="running_ID ready_ID airStop_ID stop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; airStop == 0 &amp;&amp; stop == 0"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Command_Methane_And_Air_Handling_HighLevel_MinePump_System_ID"
          name="Delta_Add_Command_Methane_And_Air_Handling_HighLevel_MinePump_System"
          after="Delta_Add_Air_Monitoring_Region_ID Delta_Add_Methane_Monitoring_Region_ID Delta_Add_Command_Handling_ID"
          when="MethaneDetection&amp;&amp;Command&amp;&amp;AirCheck">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t12_methane_air_command_ID"
            name="t12_methane_air_command"
            applyTo="t12_running_high_idle_ID"
            newGuard="g_running_or_methanestop_or_airstop_or_stop_ID"/>
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_methane_air_command_ID"
            name="t13_methane_air_command"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop_and_not_stop_ID"/>
        <additions
            id="hod2d11a1_ID"
            name="hod2d11a1"
            applyTo="MinePump_Core_ID">
          <guards
              id="g_running_or_methanestop_or_airstop_or_stop_ID"
              name="g_running_or_methanestop_or_airstop_or_stop">
            <conditions
                id="running_or_methanestop_or_airstop_or_stop_ID"
                name="running_or_methanestop_or_airstop_or_stop"
                puse="running_ID methaneStop_ID airStop_ID stop_ID"
                usedAttributes="running_ID methaneStop_ID airStop_ID stop_ID"
                expression="running = 1 || methaneStop == 1 || airStop == 1 || stop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop_and_not_stop_ID"
              name="g_not_ready_and_not_running_and_not_methanestop_and_not_airstop_and_not_stop">
            <conditions
                id="not_ready_and_not_running_and_not_methanestop_and_not_airstop_and_not_stop_ID"
                name="not_ready_and_not_running_and_not_methanestop_and_not_airstop_and_not_stop"
                puse="running_ID ready_ID methaneStop_ID airStop_ID stop_ID"
                usedAttributes="running_ID ready_ID methaneStop_ID airStop_ID stop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; methaneStop == 0 &amp;&amp; airStop == 0 &amp;&amp; stop == 0"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <additions>
      <delta
          id="Delta_Add_Air_Handling_HighLevel_No_Command_No_Methane_MinePump_System_ID"
          name="Delta_Add_Air_Handling_HighLevel_No_Command_No_Methane_MinePump_System"
          after="Delta_Add_Air_Monitoring_Region_ID"
          when="!MethaneDetection&amp;&amp;!Command&amp;&amp;AirCheck">
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t12_air_ID"
            name="t12_air"
            applyTo="t12_running_high_idle_ID"
            newGuard="g_running_or_airstop_ID"/>
        <modifications
            xsi:type="de.imotep.variability:MStateMachineGuardModification"
            id="t13_air_ID"
            name="t13_air"
            applyTo="t13_high_set_ready_ID"
            newGuard="g_not_ready_and_not_running_and_not_airstop_ID"/>
        <additions
            id="hod2d12a1_ID"
            name="hod2d12a1"
            applyTo="MinePump_Core_ID">
          <guards
              id="g_running_or_airstop_ID"
              name="g_running_or_airstop">
            <conditions
                id="running_or_airstop_ID"
                name="running_or_airstop"
                puse="running_ID airStop_ID"
                usedAttributes="running_ID airStop_ID"
                expression="running = 1 || airStop == 1"/>
          </guards>
          <guards
              id="g_not_ready_and_not_running_and_not_airstop_ID"
              name="g_not_ready_and_not_running_and_not_airstop">
            <conditions
                id="not_ready_and_not_running_and_not_airstop_ID"
                name="not_ready_and_not_running_and_not_airstop"
                puse="running_ID ready_ID airStop_ID"
                usedAttributes="running_ID ready_ID airStop_ID"
                expression="ready == 0 &amp;&amp; running == 0 &amp;&amp; airStop == 0"/>
          </guards>
        </additions>
      </delta>
    </additions>
    <modifications
        delta="Delta_Add_Methane_Handling_HighLevel_No_Cmd_MinePump_System_ID">
      <conditionModification
          when="MethaneDetection&amp;&amp;!Command&amp;&amp;!AirCheck"/>
    </modifications>
    <modifications
        delta="Delta_Add_Command_Handling_HighLevel_No_Methan_MinePump_System_ID">
      <conditionModification
          when="!MethaneDetection&amp;&amp;Command&amp;&amp;!AirCheck"/>
    </modifications>
    <modifications
        delta="Delta_Add_Command_And_Methane_Handling_HighLevel_MinePump_System_ID">
      <conditionModification
          when="MethaneDetection&amp;&amp;Command&amp;&amp;!AirCheck"/>
    </modifications>
    <removals
        delta="Delta_Add_Methane_Handling_Mine_Pump_System_ID"/>
  </deltas>
  <core id="MinePump_Core_ID"
      name="MinePump_Core"
      regions="MinePump_Root_Region_ID Pump_Ctrl_Region_ID Water_Monitoring_Region_ID MinePump_System_Region_ID Water_Level_Control_Region_ID Methane_Monitoring_Region_ID Methane_Level_Control_Region_ID Command_Ctrl_Region_ID Ventilation_Ctrl_Region_ID Air_Monitoring_Region_ID Alarm_Control_Region_ID"
      position="1"
      type="UML">
    <actions
        id="a_pumpRunning_ID"
        name="a_pumpRunning"
        broadcast="pumpRunning_ID"/>
    <actions
        id="a_pumpStart_ID"
        name="a_pumpStart"
        broadcast="pumpStart_ID"/>
    <actions
        id="core_a_pumpStop_ID"
        name="core_a_pumpStop"
        broadcast="pumpStop_ID"/>
    <actions
        id="a_pumpNotRunning_ID"
        name="a_pumpNotRunning"
        broadcast="pumpNotRunning_ID"/>
    <actions
        id="set_running_false_ID"
        name="set_running_false">
      <expressions
          id="running_false_ID"
          name="running_false"
          duse="running_ID"
          usedAttributes="running_ID"
          expression="running = 0"/>
    </actions>
    <actions
        id="set_ready_true_ID"
        name="set_ready_true">
      <expressions
          id="ready_true_ID"
          name="ready_true"
          duse="ready_ID"
          usedAttributes="ready_ID"
          expression="ready = 1"/>
    </actions>
    <actions
        id="set_running_true_ID"
        name="set_running_true">
      <expressions
          id="running_true_ID"
          name="running_true"
          duse="running_ID"
          usedAttributes="running_ID"
          expression="running = 1"/>
    </actions>
    <actions
        id="a_levelMsg_ID"
        name="a_levelMsg"
        broadcast="levelMsg_ID"/>
    <actions
        id="set_highLevel_true_ID"
        name="set_highLevel_true">
      <expressions
          id="highLevel_true_ID"
          name="highLevel_true"
          duse="highLevel_ID"
          usedAttributes="highLevel_ID"
          expression="highLevel = 1"/>
    </actions>
    <actions
        id="set_highLevel_false_ID"
        name="set_highLevel_false">
      <expressions
          id="highLevel_false_ID"
          name="highLevel_false"
          duse="highLevel_ID"
          usedAttributes="highLevel_ID"
          expression="highLevel = 0"/>
    </actions>
    <actions
        id="set_normalLevel_true_ID"
        name="set_normalLevel_true">
      <expressions
          id="normalLevel_true_ID"
          name="normalLevel_true"
          duse="normalLevel_ID"
          usedAttributes="normalLevel_ID"
          expression="normalLevel = 1"/>
    </actions>
    <actions
        id="set_normalLevel_false_ID"
        name="set_normalLevel_false">
      <expressions
          id="normalLevel_false_ID"
          name="normalLevel_false"
          duse="normalLevel_ID"
          usedAttributes="normalLevel_ID"
          expression="normalLevel = 0"/>
    </actions>
    <actions
        id="set_lowLevel_true_ID"
        name="set_lowLevel_true">
      <expressions
          id="lowLevel_true_ID"
          name="lowLevel_true"
          duse="lowLevel_ID"
          usedAttributes="lowLevel_ID"
          expression="lowLevel = 1"/>
    </actions>
    <actions
        id="set_lowLevel_false_ID"
        name="set_lowLevel_false">
      <expressions
          id="lowLevel_false_ID"
          name="lowLevel_false"
          duse="lowLevel_ID"
          usedAttributes="lowLevel_ID"
          expression="lowLevel = 0"/>
    </actions>
    <attributes
        xsi:type="de.imotep.core:MBooleanAttribute"
        id="running_ID"
        name="running"
        visibility="PRIVATE"/>
    <attributes
        xsi:type="de.imotep.core:MBooleanAttribute"
        id="ready_ID"
        name="ready"
        visibility="PRIVATE"/>
    <attributes
        xsi:type="de.imotep.core:MBooleanAttribute"
        id="lowLevel_ID"
        name="lowLevel"
        visibility="PRIVATE"/>
    <attributes
        xsi:type="de.imotep.core:MBooleanAttribute"
        id="normalLevel_ID"
        name="normalLevel"
        visibility="PRIVATE"
        initValue="true"
        value="true"/>
    <attributes
        xsi:type="de.imotep.core:MBooleanAttribute"
        id="highLevel_ID"
        name="highLevel"
        visibility="PRIVATE"/>
    <rootRegion
        id="MinePump_Root_Region_ID"
        name="MinePump_Root_Region"
        initialState="MinePump_Root_Region_START_NODE_ID"
        parentStateMachine="MinePump_Core_ID">
      <states
          id="MinePump_Root_Region_START_NODE_ID"
          name="MinePump_Root_Region_START_NODE"
          type="INITIAL"
          outgoingTransitions="default_MinePump_Root_Region_ID"/>
      <states
          id="MinePump_Root_State_ID"
          name="MinePump_Root_State"
          incomingTransitions="default_MinePump_Root_Region_ID">
        <regions
            id="Pump_Ctrl_Region_ID"
            name="Pump_Ctrl_Region"
            initialState="Pump_Ctrl_START_NODE_ID"
            parentStateMachine="MinePump_Core_ID">
          <states
              id="Pump_Ctrl_START_NODE_ID"
              name="Pump_Ctrl_START_NODE"
              type="INITIAL"
              outgoingTransitions="default_Pump_Ctrl_Region_ID"/>
          <states
              id="Pump_Off_ID"
              name="Pump_Off"
              outgoingTransitions="t1_pump_Start_ID"
              incomingTransitions="default_Pump_Ctrl_Region_ID t2_pump_Stop_ID"/>
          <states
              id="Pump_On_ID"
              name="Pump_On"
              outgoingTransitions="t2_pump_Stop_ID"
              incomingTransitions="t1_pump_Start_ID"/>
          <transitions
              id="default_Pump_Ctrl_Region_ID"
              name="default_Pump_Ctrl_Region"
              sourceState="Pump_Ctrl_START_NODE_ID"
              targetState="Pump_Off_ID"/>
          <transitions
              id="t1_pump_Start_ID"
              name="t1_pump_Start"
              sourceState="Pump_Off_ID"
              targetState="Pump_On_ID"
              event="pumpStart_ID"
              actions="a_pumpRunning_ID set_running_true_ID"/>
          <transitions
              id="t2_pump_Stop_ID"
              name="t2_pump_Stop"
              sourceState="Pump_On_ID"
              targetState="Pump_Off_ID"
              event="pumpStop_ID"
              actions="a_pumpNotRunning_ID set_running_false_ID"/>
        </regions>
        <regions
            id="Water_Monitoring_Region_ID"
            name="Water_Monitoring_Region"
            initialState="Water_Monitoring_START_NODE_ID"
            parentStateMachine="MinePump_Core_ID">
          <states
              id="Water_Monitoring_START_NODE_ID"
              name="Water_Monitoring_START_NODE"
              type="INITIAL"
              outgoingTransitions="default_Water_Monitoring_Region_ID"/>
          <states
              id="Normal_ID"
              name="Normal"
              outgoingTransitions="t6_waterRises_normal_high_ID t5_waterLower_normal_low_ID"
              incomingTransitions="default_Water_Monitoring_Region_ID t7_waterLower_high_normal_ID t4_waterRises_low_normal_ID"/>
          <states
              id="High_ID"
              name="High"
              outgoingTransitions="t8_waterRises_high_ID t7_waterLower_high_normal_ID"
              incomingTransitions="t6_waterRises_normal_high_ID t8_waterRises_high_ID"/>
          <states
              id="Low_ID"
              name="Low"
              outgoingTransitions="t3_waterLower_low_ID t4_waterRises_low_normal_ID"
              incomingTransitions="t5_waterLower_normal_low_ID t3_waterLower_low_ID"/>
          <transitions
              id="default_Water_Monitoring_Region_ID"
              name="default_Water_Monitoring_Region"
              sourceState="Water_Monitoring_START_NODE_ID"
              targetState="Normal_ID"/>
          <transitions
              id="t3_waterLower_low_ID"
              name="t3_waterLower_low"
              sourceState="Low_ID"
              targetState="Low_ID"
              event="waterLower_ID"
              actions="a_levelMsg_ID"/>
          <transitions
              id="t4_waterRises_low_normal_ID"
              name="t4_waterRises_low_normal"
              sourceState="Low_ID"
              targetState="Normal_ID"
              event="waterRises_ID"
              actions="a_levelMsg_ID set_lowLevel_false_ID set_normalLevel_true_ID"/>
          <transitions
              id="t5_waterLower_normal_low_ID"
              name="t5_waterLower_normal_low"
              sourceState="Normal_ID"
              targetState="Low_ID"
              event="waterLower_ID"
              actions="set_normalLevel_false_ID set_lowLevel_true_ID a_levelMsg_ID"/>
          <transitions
              id="t6_waterRises_normal_high_ID"
              name="t6_waterRises_normal_high"
              sourceState="Normal_ID"
              targetState="High_ID"
              event="waterRises_ID"
              actions="a_levelMsg_ID set_highLevel_true_ID set_normalLevel_false_ID"/>
          <transitions
              id="t7_waterLower_high_normal_ID"
              name="t7_waterLower_high_normal"
              sourceState="High_ID"
              targetState="Normal_ID"
              event="waterLower_ID"
              actions="a_levelMsg_ID set_highLevel_false_ID set_normalLevel_true_ID"/>
          <transitions
              id="t8_waterRises_high_ID"
              name="t8_waterRises_high"
              sourceState="High_ID"
              targetState="High_ID"
              event="waterRises_ID"
              actions="a_levelMsg_ID"/>
        </regions>
        <regions
            id="MinePump_System_Region_ID"
            name="MinePump_System_Region"
            initialState="MinePump_System_START_NODE_ID"
            parentStateMachine="MinePump_Core_ID">
          <states
              id="MinePump_System_START_NODE_ID"
              name="MinePump_System_START_NODE"
              type="INITIAL"
              outgoingTransitions="default_MinePump_System_ID"/>
          <states
              id="Mine_Pump_System_Controller_ID"
              name="Mine_Pump_System_Controller"
              incomingTransitions="default_MinePump_System_ID">
            <regions
                id="Water_Level_Control_Region_ID"
                name="Water_Level_Control_Region"
                initialState="Water_Level_Init_State_ID"
                parentStateMachine="MinePump_Core_ID">
              <states
                  id="Water_Level_Idle_ID"
                  name="Water_Level_Idle"
                  outgoingTransitions="t15_levelMsg_ID"
                  incomingTransitions="t17_timeout_pump_stop_ID t12_running_high_idle_ID t9_pumpStarted_idle_ID Water_Level_Default_ID t18_levelMsg_normal_ID t22_low_stopped_ready_false_ID t20_low_not_running_ID t26_running_high_idle_a_ID t39_running_high_idle_b_ID t40_running_high_idle_c_ID"/>
              <states
                  id="pump_timeout_elapsed_ID"
                  name="pump_timeout_elapsed"
                  outgoingTransitions="t17_timeout_pump_stop_ID"
                  incomingTransitions="t16_pump_timeout_elapsed_ID"/>
              <states
                  id="LevelMsg_Received_ID"
                  name="LevelMsg_Received"
                  outgoingTransitions="t16_pump_timeout_elapsed_ID t14_levelmsg_highlevel_true_ID t18_levelMsg_normal_ID t19_low_detected_ID"
                  incomingTransitions="t15_levelMsg_ID"/>
              <states
                  id="High_Level_Detected_ID"
                  name="High_Level_Detected"
                  outgoingTransitions="t12_running_high_idle_ID t13_high_set_ready_ID t11_high_ready_startPump_ID t26_running_high_idle_a_ID t39_running_high_idle_b_ID t40_running_high_idle_c_ID"
                  incomingTransitions="t14_levelmsg_highlevel_true_ID"/>
              <states
                  id="Pump_Set_Ready_ID"
                  name="Pump_Set_Ready"
                  outgoingTransitions="t10_pump_ready_startPump_ID"
                  incomingTransitions="t13_high_set_ready_ID"/>
              <states
                  id="Pump_Started_ID"
                  name="Pump_Started"
                  outgoingTransitions="t9_pumpStarted_idle_ID"
                  incomingTransitions="t11_high_ready_startPump_ID t10_pump_ready_startPump_ID"/>
              <states
                  id="Water_Level_Init_State_ID"
                  name="Water_Level_Init_State"
                  type="INITIAL"
                  outgoingTransitions="Water_Level_Default_ID"/>
              <transitions
                  id="t9_pumpStarted_idle_ID"
                  name="t9_pumpStarted_idle"
                  sourceState="Pump_Started_ID"
                  targetState="Water_Level_Idle_ID"
                  guard="g_running_true_ID"/>
              <transitions
                  id="t10_pump_ready_startPump_ID"
                  name="t10_pump_ready_startPump"
                  sourceState="Pump_Set_Ready_ID"
                  targetState="Pump_Started_ID"
                  actions="a_pumpStart_ID"/>
              <transitions
                  id="t11_high_ready_startPump_ID"
                  name="t11_high_ready_startPump"
                  sourceState="High_Level_Detected_ID"
                  targetState="Pump_Started_ID"
                  guard="g_ready_and_not_running_ID"
                  actions="a_pumpStart_ID"/>
              <transitions
                  id="t12_running_high_idle_ID"
                  name="t12_running_high_idle"
                  sourceState="High_Level_Detected_ID"
                  targetState="Water_Level_Idle_ID"
                  guard="g_running_true_ID"/>
              <transitions
                  id="t13_high_set_ready_ID"
                  name="t13_high_set_ready"
                  sourceState="High_Level_Detected_ID"
                  targetState="Pump_Set_Ready_ID"
                  guard="g_not_ready_and_not_running_ID"
                  actions="set_ready_true_ID"/>
              <transitions
                  id="t14_levelmsg_highlevel_true_ID"
                  name="t14_levelmsg_highlevel_true"
                  sourceState="LevelMsg_Received_ID"
                  targetState="High_Level_Detected_ID"
                  guard="g_highlevel_true_ID"/>
              <transitions
                  id="t15_levelMsg_ID"
                  name="t15_levelMsg"
                  sourceState="Water_Level_Idle_ID"
                  targetState="LevelMsg_Received_ID"
                  event="levelMsg_ID"/>
              <transitions
                  id="t16_pump_timeout_elapsed_ID"
                  name="t16_pump_timeout_elapsed"
                  sourceState="LevelMsg_Received_ID"
                  targetState="pump_timeout_elapsed_ID"
                  guard="g_running_true_ID"
                  event="timeoutPumpRunningElapsed_ID"
                  actions="core_a_pumpStop_ID"/>
              <transitions
                  id="t17_timeout_pump_stop_ID"
                  name="t17_timeout_pump_stop"
                  sourceState="pump_timeout_elapsed_ID"
                  targetState="Water_Level_Idle_ID"
                  guard="g_running_false_ID"/>
              <transitions
                  id="Water_Level_Default_ID"
                  name="Water_Level_Default"
                  sourceState="Water_Level_Init_State_ID"
                  targetState="Water_Level_Idle_ID"/>
            </regions>
          </states>
          <transitions
              id="default_MinePump_System_ID"
              name="default_MinePump_System"
              sourceState="MinePump_System_START_NODE_ID"
              targetState="Mine_Pump_System_Controller_ID"/>
        </regions>
      </states>
      <transitions
          id="default_MinePump_Root_Region_ID"
          name="default_MinePump_Root_Region"
          sourceState="MinePump_Root_Region_START_NODE_ID"
          targetState="MinePump_Root_State_ID"/>
    </rootRegion>
    <guards
        id="g_running_true_ID"
        name="g_running_true">
      <conditions
          id="running_eq_true_ID"
          name="running_eq_true"
          puse="running_ID"
          usedAttributes="running_ID"
          expression="running == 1"/>
    </guards>
    <guards
        id="g_running_false_ID"
        name="g_running_false">
      <conditions
          id="running_eq_false_ID"
          name="running_eq_false"
          puse="running_ID"
          usedAttributes="running_ID"
          expression="running == 0"/>
    </guards>
    <guards
        id="g_not_ready_and_not_running_ID"
        name="g_not_ready_and_not_running">
      <conditions
          id="ready_false_and_running_false_ID"
          name="ready_false_and_running_false"
          puse="ready_ID running_ID"
          usedAttributes="running_ID ready_ID"
          expression="ready == 0 &amp;&amp; running == 0"/>
    </guards>
    <guards
        id="g_highlevel_true_ID"
        name="g_highlevel_true">
      <conditions
          id="highlevel_eq_true_ID"
          name="highlevel_eq_true"
          puse="highLevel_ID"
          usedAttributes="highLevel_ID"
          expression="highLevel == 1"/>
    </guards>
    <guards
        id="g_ready_and_not_running_ID"
        name="g_ready_and_not_running">
      <conditions
          id="ready_true_and_running_false_ID"
          name="ready_true_and_running_false"
          puse="running_ID ready_ID"
          usedAttributes="running_ID ready_ID"
          expression="ready == 1 &amp;&amp; running == 0"/>
    </guards>
    <events
        id="pumpStart_ID"
        name="pumpStart"
        internalEvent="true"/>
    <events
        id="pumpStop_ID"
        name="pumpStop"
        internalEvent="true"/>
    <events
        id="pumpRunning_ID"
        name="pumpRunning"
        outputEvent="true"/>
    <events
        id="pumpNotRunning_ID"
        name="pumpNotRunning"
        outputEvent="true"/>
    <events
        id="waterRises_ID"
        name="waterRises"
        inputEvent="true"/>
    <events
        id="levelMsg_ID"
        name="levelMsg"
        internalEvent="true"/>
    <events
        id="timeoutPumpRunningElapsed_ID"
        name="timeoutPumpRunningElapsed"
        inputEvent="true"/>
    <events
        id="waterLower_ID"
        name="waterLower"
        inputEvent="true"/>
  </core>
</de.imotep.dope:HigherOrderDeltaRepository>
